---
import { buttonVariants } from "@/components/ui/Button";
import { GradientBorder } from "@/components/ui/GradientBorder";
import { QRCode } from "@/components/ui/QRCode";
import { Stack } from "@/components/ui/Stack";
import { Separator } from "@/components/ui/Separator";

import { ArrowRight } from "@/icons";

import Icon from "~icons/assets/icon";
import { cn } from "@/lib/utils";

interface Props {
  url: string;
  class?: string;
  showSeparator?: boolean;
}

const { url, class: className, showSeparator = true } = Astro.props;
---

<a href={url} class={cn("lg:hidden", buttonVariants(), className)}>
  Download
  <ArrowRight />
</a>

<div class={className}>
  {showSeparator && <Separator className="mb-8 max-lg:hidden" />}

  <Stack
    orientation="row"
    className="max-lg:hidden"
    align="center"
    gap="lg"
    title="Download"
  >
    <GradientBorder
      className="before:bg-bronze bg-coal z-10 rounded-xl bg-black p-2 shadow-lg"
    >
      <QRCode value={url} className="aspect-square w-36">
        <Icon />
      </QRCode>
    </GradientBorder>

    <div class="space-y-1">
      <slot />
    </div>
  </Stack>
</div>
